@page
@model Elderson.PatientDetailsModel
@{
    ViewData["Title"] = "PatientDetails";
    Layout = "Shared/_LayoutAdmin";
    ViewData["Header"] = "Patient Details";
    ViewData["Breadcrumb"] = "Patients > Patient Details";
}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

    <body>
        <form class="form-inline" style="float:right; margin-bottom: 10px;">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>

        <div class="table-responsive">
            <button class="btn btn-primary btn-l text-white mb-0 me-0" type="button" style="float:right" id="add-entry" onclick="addEntry()"><i class="mdi mdi-account-plus"></i>Add new Entry</a> </button>
        </div>
        <div id="counter" class="mb-2"></div>

        <div class="center"></div>
        <div id="entries" style="display: none">
            <form method="post" id="form">
                <div class="card">
                    <div class="card-header">Entry<button class="delete-cross" onclick="cancelEntry()">x</button></div>
                    <div class="card-body">
                        <input placeholder="Title" asp-for="NewEntry.Title">
                        <textarea placeholder="Description" rows="4" asp-for="NewEntry.DetailsofVisit"></textarea>
                        <button class="submit-btn" type="submit">Submit Entry</button>
                    </div>
                </div>
            </form>;
        </div>
    </body>

<script>
    //let count = 0;

    //const createCard = (index) => {
    //  const card = document.createElement("div")
    //  card.className = "card"
    //  const cardHeader = document.createElement("div")
    //  cardHeader.className = "card-header"
    //  const deleteBtn = document.createElement("button")
    //  deleteBtn.classList.add("delete-cross")
    //  deleteBtn.textContent = "x"

    //  cardHeader.innerText = `Entry ${index + 1}`
    //  cardHeader.appendChild(deleteBtn)
    //  const cardBody = document.createElement("div")
    //  cardBody.className = "card-body"

    //  const title = document.createElement("input")
    //  const desc = document.createElement("textarea")
    //  title.placeholder = "Title"
    //  desc.placeholder = "Description"
    //  desc.rows = "4"

    //  const submitBtn = document.createElement("button")
    //  submitBtn.classList.add("submit-btn")
    //  submitBtn.textContent = "Submit Entry"

    //  cardBody.appendChild(title)
    //  cardBody.appendChild(desc)
    //  cardBody.appendChild(submitBtn)
    //  card.append(cardHeader)
    //  card.appendChild(cardBody)
    //  return card
    //}

    //const addEvent = () => {
    //  const newCard = createCard(count)
    //  count++
    //  document.getElementById("counter").textContent = "Number of entries: " + count
    //  console.log(newCard)
    //  document.getElementById("entries").appendChild(newCard)
    //}

    //document.getElementById("add-entry").addEventListener("click", addEvent)

    //document.getElementById("counter").textContent = "Number of entries: " + count


    //function addEntry() {
    //    var html = '';

    //    html = `<form method="post" id="form">
    //                <div class="card" id="card">
    //                    <div class="card-header">Entry<button class="delete-cross" onclick="cancelEntry()">x</button></div>
    //                        <div class="card-body">
    //                            <input placeholder="Title" asp-for="NewEntry.Title">
    //                            <textarea placeholder="Description" rows="4" asp-for="NewEntry.DetailsofVisit"></textarea>
    //                            <button class="submit-btn" type="submit">Submit Entry</button>
    //                </div>
    //            </form>`;
    //    document.getElementById("entries").innerHTML += html;
    //}

    function cancelEntry() {
        var element = document.getElementById("form")
        element.parentNode.removeChild(element);
    }
    function addEntry() {
        document.getElementById("entries").style.display = "block";
    }
    
</script>

<style>

    .center {
      width: 800px;
      margin: 0 auto;
      text-align: center;
    }

    .input-text {
      font-size: large;
    }

    .primary {
      border-color: rgb(36, 161, 156);
    }

    .delete-cross {
      background: none;
      border: none;
      font-size: 16px;
      color: red;
      float: right;
    }

    .submit-btn {
      background-color: #17e8af;
      margin-top: 8px;
      width: 15%;
      height: 20%;
      border-radius: 5px;
      float: right;
    }

    .blank {
      background: none;
    }

    .card {
      background-color: rgb(250, 238, 231) !important;
      border-color: rgb(50, 82, 136) !important;
      margin: 20px 12px !important;
    }

    input {
      width: 90%;
      margin-bottom: 16px !important;
    }

    textarea {
      width: 90%;
    }

    #counter {
      font-size: 36px;
    }

</style>
